# **K-LEAP 프로젝트 기술 설계 문서 (Technical Design Document)**

**프로젝트명**: K-LEAP (Korean Language Evaluation and Analysis Program)  
**작성일자**: 2024년 9월 15일  
**버전**: 1.0  
**작성자**: K-LEAP 기술 설계팀  

---

## **1. 개요**

이 문서는 K-LEAP 프로젝트의 **시스템 아키텍처**, **데이터베이스 설계**, **데이터 분석 모듈**, **리포트 생성 모듈**, 및 **통합 테스트**에 대한 기술적 세부 사항을 정의합니다. 본 설계 문서는 K-LEAP 시스템이 다양한 이해관계자들에게 정확하고 신뢰성 있는 한국어 능력 평가 리포트를 제공하기 위해 필요한 기술적 요구사항을 상세히 설명합니다.

---

## **2. 시스템 아키텍처**

K-LEAP 시스템은 **클라이언트-서버 모델**을 기반으로 설계되며, **모듈화된 아키텍처**를 통해 각 기능이 독립적으로 구현되고 관리됩니다. 주요 구성 요소는 **사용자 인터페이스**, **백엔드 API 서버**, **데이터베이스**로 나누어져 있습니다.

### **2.1 클라이언트-서버 아키텍처**

- **클라이언트**: 수험자, 평가 관리자, 시험 개발자, 연구자, 정책 입안자 등 다양한 사용자들이 웹 브라우저 또는 모바일 기기를 통해 **웹 애플리케이션**에 접근합니다. 클라이언트는 **React.js**로 구현되어 **반응형 디자인**을 지원하며, **REST API**를 통해 서버와 통신합니다.

- **서버**: 서버는 **Python**과 **Flask**로 구현되며, **RESTful API**를 제공하여 클라이언트로부터의 요청을 처리합니다. 주요 기능은 데이터 처리, 리포트 생성, 사용자 인증 및 권한 관리 등을 포함합니다.

- **데이터베이스**: 데이터베이스는 **PostgreSQL**을 사용하여 **필기 및 말하기 시험 데이터**와 **사용자 정보**를 저장합니다. 데이터베이스는 **RDBMS 구조**로 설계되어 각종 메타데이터와 결과 데이터를 효율적으로 관리합니다.

### **2.2 시스템 구성도**

```
┌──────────────┐       ┌─────────────┐
│  클라이언트   │<----->│  API 서버    │<----->  DB 서버
│ (React.js)   │       │ (Flask)     │       (PostgreSQL)
└──────────────┘       └─────────────┘
      |                       |
┌──────────────┐         ┌───────────────┐
│  데이터 분석  │<------->│ 리포트 생성 모듈 │
│   모듈       │         │ (PDF/HTML)    │
└──────────────┘         └───────────────┘
```

---

## **3. 데이터베이스 설계**

K-LEAP 프로젝트에서는 **PostgreSQL**을 사용하여 **필기 및 말하기 시험 데이터**, **사용자 데이터**, **메타정보**를 관리합니다. 데이터베이스는 각 기능에 맞게 **정규화**되어 있으며, **효율적인 쿼리**가 가능하도록 설계되었습니다.

### **3.1 주요 테이블**

#### **3.1.1 사용자 테이블 (Users)**

| 필드명            | 데이터 타입  | 설명                         |
|------------------|--------------|------------------------------|
| user_id          | SERIAL       | 사용자 고유 ID               |
| name             | VARCHAR(100) | 사용자 이름                  |
| email            | VARCHAR(100) | 이메일                       |
| password         | VARCHAR(256) | 암호화된 비밀번호            |
| user_role        | VARCHAR(50)  | 사용자 역할 (수험자, 관리자 등)|
| created_at       | TIMESTAMP    | 계정 생성 날짜               |

#### **3.1.2 필기 시험 테이블 (Writing_Test_Results)**

| 필드명            | 데이터 타입   | 설명                                       |
|------------------|---------------|--------------------------------------------|
| test_id          | SERIAL        | 필기 시험 고유 ID                           |
| user_id          | INTEGER       | 사용자 ID (Users 테이블 참조)               |
| total_score      | DECIMAL(5, 2) | 필기 시험 총점                              |
| reading_score    | DECIMAL(5, 2) | 읽기 점수                                  |
| listening_score  | DECIMAL(5, 2) | 듣기 점수                                  |
| grammar_vocabulary_score | DECIMAL(5, 2) | 문법/어휘 점수                             |
| test_date        | DATE          | 시험 일자                                  |

#### **3.1.3 말하기 시험 테이블 (Speaking_Test_Results)**

| 필드명              | 데이터 타입   | 설명                                      |
|--------------------|---------------|-------------------------------------------|
| speaking_test_id   | SERIAL        | 말하기 시험 고유 ID                        |
| user_id            | INTEGER       | 사용자 ID (Users 테이블 참조)              |
| pronunciation_score | DECIMAL(5, 2) | 발음 점수                                  |
| fluency_score      | DECIMAL(5, 2) | 유창성 점수                                |
| grammar_score      | DECIMAL(5, 2) | 문법 점수                                  |
| test_date          | DATE          | 시험 일자                                  |

#### **3.1.4 메타정보 테이블 (Metadata)**

| 필드명             | 데이터 타입   | 설명                                      |
|-------------------|---------------|-------------------------------------------|
| meta_id           | SERIAL        | 메타정보 고유 ID                           |
| test_type         | VARCHAR(50)   | 시험 유형 (필기/말하기)                    |
| difficulty_level  | VARCHAR(10)   | 난이도 (상, 중, 하)                        |
| question_code     | VARCHAR(50)   | 문항 고유 코드                             |
| evaluation_area   | VARCHAR(50)   | 평가 영역 (어휘, 문법, 발음 등)             |

---

## **4. 데이터 분석 모듈 설계**

데이터 분석 모듈은 **필기 및 말하기 시험 데이터**를 기반으로 수험자의 성적을 분석하고, **문항 난이도** 및 **변별도**를 계산하는 역할을 수행합니다. **Python**의 **Pandas**, **NumPy**, **SciPy** 라이브러리를 사용하여 통계 분석을 수행하며, **문항 반응 이론(IRT)**이 적용됩니다.

### **4.1 주요 기능**

#### **4.1.1 필기시험 분석**
- **정답률 계산**: 각 문항의 정답률을 계산하여, 수험자들이 맞춘 비율을 분석.
- **오답 패턴 분석**: 문항별로 가장 자주 선택된 오답을 분석하여, 수험자들의 **오류 경향**을 파악.
- **문항 난이도 및 변별도 분석**: 문항 반응 이론(IRT)을 적용하여 각 문항의 난이도와 변별도를 계산.

#### **4.1.2 말하기 시험 분석**
- **루브릭 기반 점수 계산**: 발음, 유창성, 어휘 다양성 등 루브릭 항목별 점수를 분석.
- **채점 일관성 분석**: 다수의 채점자가 동일한 수험자를 평가한 결과를 비교하여 **채점자 간 일관성**을 분석.
- **발음 및 억양 분석**: 발음의 정확성과 억양 패턴을 분석하여 **개선 방안**을 제시.

### **4.2 분석 알고리즘**

- **정답률 알고리즘**:
  ```python
  def calculate_accuracy(total_answers, correct_answers):
      return correct_answers / total_answers
  ```

- **오답 패턴 분석 알고리즘**:
  ```python
  def analyze_incorrect_patterns(answers):
      incorrect_answers = [a for a in answers if not a.is_correct]
      return Counter(incorrect_answers)
  ```

- **문항 반응 이론(IRT) 적용**:
  ```python
  def irt_model(item_params, student_abilities):
      # IRT 2PL 모델을 기반으로 난이도와 변별도를 계산
      return calculate_item_response(item_params, student_abilities)
  ```

---

## **5. 리포트 생성 모듈 설계**

리포트 생성 모듈은 **PDF**와 **HTML** 형식으로 맞춤형 리포트를 생성합니다. **Python의 ReportLab**과 **Jinja2** 라이브러리를 사용하여 리포트를 동적으로 생성하며, **데이터 시각화**를 위해 **Matplotlib**와 **Plotly**를 활용합니다.

### **5.1 리포트 생성 과정**

1. **데이터 입력**: 필기 및 말하기 시험 데이터와 분석 결과가 입력됨.
2. **리포트 템플릿 로드**: 사용자의 요구에 맞는 리포트 템플릿(PDF 또는 HTML 형식)을 로드.
3. **데이터 매핑**: 분석된 데이터가

 리포트 템플릿에 매핑되어 동적으로 내용이 채워짐.
4. **리포트 생성 및 다운로드**: 최종 리포트가 PDF/HTML 형식으로 생성되어 사용자에게 제공됨.

### **5.2 리포트 템플릿 예시 (Jinja2)**

```html
<!DOCTYPE html>
<html>
<head>
    <title>{{ report_title }}</title>
</head>
<body>
    <h1>{{ user_name }}님의 한국어 능력 평가 결과</h1>
    <h2>필기시험 성적</h2>
    <p>총점: {{ total_score }} / 읽기: {{ reading_score }} / 듣기: {{ listening_score }}</p>
    
    <h2>말하기 시험 성적</h2>
    <p>발음: {{ pronunciation_score }} / 유창성: {{ fluency_score }} / 문법: {{ grammar_score }}</p>
    
    <h2>세부 분석</h2>
    <p>{{ detailed_feedback }}</p>
</body>
</html>
```

---

## **6. 통합 테스트 설계**

시스템의 통합 테스트는 각 모듈이 **의도대로 작동하는지 검증**하며, **기능 테스트**, **성능 테스트**, **보안 테스트**로 구성됩니다.

### **6.1 기능 테스트**
- **리포트 생성 테스트**: 사용자가 입력한 데이터를 기반으로 리포트가 올바르게 생성되는지 확인.
- **데이터 분석 테스트**: 필기 및 말하기 시험 데이터 분석 결과가 정확하게 산출되는지 검증.

### **6.2 성능 테스트**
- **리포트 생성 속도**: 대량의 데이터를 처리할 때도 5초 이내에 리포트가 생성되는지 검증.
- **데이터베이스 성능 테스트**: 다수의 사용자가 동시에 접근했을 때, 데이터베이스 쿼리 성능이 저하되지 않는지 확인.

### **6.3 보안 테스트**
- **데이터 암호화**: 모든 개인 데이터가 암호화되어 안전하게 저장되는지 검증.
- **권한 관리**: 각 사용자 그룹에 맞는 접근 권한이 올바르게 설정되었는지 테스트.

---

## **7. 결론 및 향후 계획**

본 기술 설계 문서는 K-LEAP 프로젝트의 **핵심 기술 구성**을 구체적으로 정의하였으며, 프로젝트 구현 과정에서 **시스템 아키텍처**, **데이터베이스 설계**, **데이터 분석 및 리포트 생성 모듈**이 안정적으로 작동하도록 설계되었습니다.

향후 계획:
1. **모듈별 단위 테스트**: 각 모듈의 기능을 개별적으로 테스트하여 성능과 신뢰성을 확인.
2. **통합 테스트**: 모든 모듈을 통합한 후, 실제 사용 환경에서 시스템이 제대로 작동하는지 확인.
3. **최종 배포 및 유지보수 계획**: 시스템을 최종 배포한 후, 주기적인 유지보수와 기능 개선을 실시.

---

**프로젝트 관련 문의**:  
프로젝트 관리자 - [이메일 주소]

**프로젝트 링크**: [https://github.com/yourusername/K-LEAP](https://github.com/yourusername/K-LEAP)