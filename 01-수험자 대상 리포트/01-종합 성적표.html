<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>종합 성적표 리포트</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header class="header-container">
            <div class="report-title">종합 성적표 리포트</div>
            <div class="report-info">
                <span class="material-icons">person</span>
                홍길동 | 한국어 능력 평가 | 2024년 9월 10일
            </div>
        </header>

        <main>
            <section>
                <h2 class="section-title">기본 정보</h2>
                <div class="card">
                    <table>
                        <tr><th>수험자 이름</th><td>홍길동</td></tr>
                        <tr><th>시험 고유번호</th><td>21-5-1-1-2102</td></tr>
                        <tr><th>시험 날짜</th><td>2024년 9월 10일</td></tr>
                        <tr><th>시험 종류</th><td>사전평가</td></tr>
                        <tr><th>전체 등급</th><td>4급 (CEFR: B2)</td></tr>
                    </table>
                </div>
            </section>

            <section>
                <h2 class="section-title">종합 성적 요약</h2>
                <div class="grid-sub-container">
                    <div class="card">
                        <h3 class="card-title">필기시험</h3>
                        <table id="writing-summary-table"></table>
                    </div>
                    <div class="card">
                        <h3 class="card-title">말하기시험</h3>
                        <table id="speaking-summary-table"></table>
                    </div>
                </div>
            </section>

            <section>
                <h2 class="section-title">성적 분석</h2>
                <div class="grid-sub-container">
                    <div class="card">
                        <h3 class="card-title">필기시험 영역별 점수</h3>
                        <div class="chart-container">
                            <canvas id="writing-chart"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">말하기시험 영역별 점수</h3>
                        <div class="chart-container">
                            <canvas id="speaking-chart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <section>
                <h2 class="section-title">영역별 성적 분석</h2>
                <div class="card">
                    <div id="analysis"></div>
                </div>
            </section>

            <section>
                <h2 class="section-title">개선 방향 및 학습 권장 사항</h2>
                <div class="card">
                    <ul id="recommendations"></ul>
                </div>
            </section>
        </main>

        <footer>
            <p>© 2024 K-LEAP. 모든 권리 보유.</p>
        </footer>
    </div>

    <script>
        // 종합 성적 요약 데이터
        const writingSummaryData = [
            { item: "필기시험 총점", score: "85/100" },
            { item: "듣기", score: "30/35" },
            { item: "읽기", score: "25/35" },
            { item: "어휘/문법", score: "30/30" }
        ];

        const speakingSummaryData = [
            { item: "말하기 시험 총점", score: "45/50" },
            { item: "발음", score: "9/10" },
            { item: "유창성", score: "8/10" },
            { item: "문법", score: "10/10" },
            { item: "담화 구성력", score: "8/10" },
            { item: "어휘 다양성", score: "10/10" }
        ];

        // 표에 데이터 추가
        function populateTable(tableId, data) {
            const table = document.getElementById(tableId);
            data.forEach(row => {
                const tr = table.insertRow();
                tr.insertCell().textContent = row.item;
                tr.insertCell().textContent = row.score;
            });
        }

        populateTable('writing-summary-table', writingSummaryData);
        populateTable('speaking-summary-table', speakingSummaryData);

        // 필기시험 차트
        new Chart(document.getElementById('writing-chart'), {
            type: 'bar',
            data: {
                labels: ['듣기', '읽기', '어휘/문법'],
                datasets: [{
                    label: '점수',
                    data: [30, 25, 30],
                    backgroundColor: ['rgba(74, 144, 226, 0.6)', 'rgba(80, 227, 194, 0.6)', 'rgba(245, 166, 35, 0.6)'],
                    borderColor: ['rgb(74, 144, 226)', 'rgb(80, 227, 194)', 'rgb(245, 166, 35)'],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 35
                    }
                }
            }
        });

        // 말하기시험 차트
        new Chart(document.getElementById('speaking-chart'), {
            type: 'radar',
            data: {
                labels: ['발음', '유창성', '문법', '담화 구성력', '어휘 다양성'],
                datasets: [{
                    label: '점수',
                    data: [9, 8, 10, 8, 10],
                    backgroundColor: 'rgba(74, 144, 226, 0.2)',
                    borderColor: 'rgb(74, 144, 226)',
                    pointBackgroundColor: 'rgb(74, 144, 226)',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: 'rgb(74, 144, 226)'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: {
                            display: false
                        },
                        suggestedMin: 0,
                        suggestedMax: 10
                    }
                }
            }
        });

        // 영역별 성적 분석
        const analysisData = [
            { area: "듣기", content: "정답률: 85%, 오답 유형: 동일 발음 단어 혼동 발생, 개선 방향: 발음이 유사한 단어 구별 학습 필요" },
            { area: "읽기", content: "정답률: 70%, 오답 유형: 긴 문장의 해석 오류, 개선 방향: 복잡한 구문의 해석 능력 향상 필요" },
            { area: "어휘/문법", content: "정답률: 100%, 오답 없음" },
            { area: "발음", content: "평가: 발음은 명확하고 정확하나, 몇몇 단어에서 억양 문제가 발견됨, 개선 방향: 특정 단어의 억양 개선 필요" },
            { area: "유창성", content: "평가: 비교적 유창하게 말하지만, 긴 문장에서 약간의 망설임이 있었음, 개선 방향: 긴 문장 말하기 연습 필요" },
            { area: "문법", content: "평가: 문법 사용은 완벽했으며, 다양한 문법 구조를 정확하게 사용함" },
            { area: "담화 구성력", content: "평가: 대화 주제를 잘 유지했으나, 논리적인 연결에 약간의 부족함이 있음, 개선 방향: 논리적 연결어 사용 연습 필요" },
            { area: "어휘 다양성", content: "평가: 매우 다양한 어휘를 사용하여, 말하기 시험에서 고급 어휘 사용 능력 확인됨" }
        ];

        const analysisDiv = document.getElementById('analysis');
        analysisData.forEach(item => {
            const p = document.createElement('p');
            p.innerHTML = `<strong>${item.area}:</strong> ${item.content}`;
            analysisDiv.appendChild(p);
        });

        // 개선 방향 및 학습 권장 사항
        const recommendations = [
            "듣기: 유사 발음 단어 구별을 위한 연습 문제 제공",
            "읽기: 긴 문장 해석을 위한 독해 연습 자료 제공",
            "유창성: 긴 문장 연습 및 발음 교정 자료 제공",
            "담화 구성력: 논리적 연결어 사용 연습을 위한 학습 자료 제공"
        ];

        const recommendationsList = document.getElementById('recommendations');
        recommendations.forEach(item => {
            const li = document.createElement('li');
            li.textContent = item;
            recommendationsList.appendChild(li);
        });
    </script>
</body>
</html>