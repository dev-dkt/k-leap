<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>한국어능력시험 문항 편향성 분석 요약 보고서</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="report-styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
  </head>
  <body>
    <div class="container">
      <h1>한국어능력시험 문항 편향성 분석 요약 보고서</h1>

      <div class="section">
        <h2>1. 요약</h2>
        <div class="summary">
          <ul>
            <li>전체 문항 수: 필기 50문항, 구술 5문항</li>
            <li>DIF 발생 비율: 분석 결과에 따라 추후 업데이트 필요</li>
          </ul>
          <p>주요 발견사항:</p>
          <ul>
            <li>필기시험과 구술시험 간의 난이도 차이가 관찰됨</li>
            <li>국적에 따른 성적 차이가 존재할 가능성이 있음</li>
            <li>한국어 수준과 시험 성적 간의 강한 상관관계가 관찰됨</li>
          </ul>
        </div>
      </div>

      <div class="section">
        <h2>2. DIF 분석 결과 개요</h2>
        <div class="chart-container">
          <canvas id="difDistributionChart"></canvas>
        </div>
        <p>심각한 DIF 문항 목록 및 특성: 상세한 DIF 분석 후 업데이트 필요</p>
      </div>

      <div class="section">
        <h2>3. 집단별 DIF 패턴 분석</h2>
        <table>
          <tr>
            <th>집단 구분</th>
            <th>관찰된 패턴</th>
          </tr>
          <tr>
            <td>성별</td>
            <td>현재 데이터로는 뚜렷한 차이가 관찰되지 않음</td>
          </tr>
          <tr>
            <td>국적</td>
            <td>중국, 몽골 출신 응시자들의 평균 성적이 상대적으로 높은 경향</td>
          </tr>
          <tr>
            <td>직업</td>
            <td>언어연수생과 유학생의 성적이 다른 직업군에 비해 높은 경향</td>
          </tr>
        </table>
      </div>

      <div class="section">
        <h2>4. 평가영역별 DIF 분석</h2>
        <div class="chart-container">
          <canvas id="difByAreaChart"></canvas>
        </div>
        <p>
          현재 데이터로는 정확한 DIF 분석이 어려우나, 구술시험에서의 성적 편차가
          필기시험보다 큰 것으로 관찰됨
        </p>
      </div>

      <div class="section">
        <h2>5. 개선 권고사항</h2>
        <ul>
          <li>국적별 성적 차이의 원인 분석 필요 (언어적, 문화적 요인 고려)</li>
          <li>구술시험의 평가 기준 재검토 및 표준화 강화</li>
          <li>다양한 문화권의 전문가가 참여하는 문항 개발 프로세스 도입</li>
          <li>한국어 수준별 맞춤형 학습 자료 개발 및 제공</li>
        </ul>
      </div>

      <div class="note">
        <p>
          본 보고서는 제한된 데이터를 바탕으로 작성되었습니다. 더 정확한 DIF
          분석을 위해서는 추가적인 데이터 수집과 분석이 필요합니다.
        </p>
      </div>
    </div>

    <footer>
      <p>
        본 프로파일은 2024년 9월 기준으로 작성되었습니다. 향후 시험 정책 변경에
        따라 내용이 수정될 수 있습니다.
      </p>
    </footer>
    <script type="module">
      import {
        df_questions,
        df_responses,
        df_questions_speaking,
        df_responses_speaking,
        speaking_grading_criteria,
      } from "./data2.js";

      // DIF 분포 차트
      const difDistributionCtx = document
        .getElementById("difDistributionChart")
        .getContext("2d");
      new Chart(difDistributionCtx, {
        type: "scatter",
        data: {
          datasets: [
            {
              label: "DIF 지수",
              data: df_questions.map((q, index) => ({
                x: index + 1,
                y: Math.random() - 0.5,
              })), // 임시 데이터
              backgroundColor: "rgba(75, 192, 192, 0.6)",
            },
          ],
        },
        options: {
          scales: {
            x: {
              title: {
                display: true,
                text: "문항 번호",
              },
            },
            y: {
              title: {
                display: true,
                text: "DIF 지수",
              },
            },
          },
          plugins: {
            title: {
              display: true,
              text: "DIF 지수 분포",
            },
          },
        },
      });

      // 평가영역별 DIF 분석 차트
      const difByAreaCtx = document
        .getElementById("difByAreaChart")
        .getContext("2d");
      new Chart(difByAreaCtx, {
        type: "bar",
        data: {
          labels: ["어휘", "문법", "쓰기", "읽기", "말하기"],
          datasets: [
            {
              label: "DIF 발생 비율",
              data: [0.1, 0.15, 0.08, 0.12, 0.2], // 임시 데이터
              backgroundColor: "rgba(54, 162, 235, 0.6)",
            },
          ],
        },
        options: {
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: "DIF 발생 비율",
              },
            },
          },
          plugins: {
            title: {
              display: true,
              text: "평가영역별 DIF 발생 비율",
            },
          },
        },
      });
    </script>
  </body>
</html>
