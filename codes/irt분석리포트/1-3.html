<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>한국어능력시험 문항 평가 가이드라인</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./report-styles.css" />
  </head>
  <body>
    <div class="container">
      <h1>한국어능력시험 문항 평가 가이드라인</h1>
      <div class="section">
        <table>
          <tr>
            <th>시험일</th>
            <td>2024년 9월 10일</td>
          </tr>
          <tr>
            <th>시험 유형</th>
            <td>사전평가</td>
          </tr>
          <tr>
            <th>시험장</th>
            <td>CBT평가센터</td>
          </tr>
          <tr>
            <th>시행 회차</th>
            <td>100회차</td>
          </tr>
        </table>
      </div>

      <div class="section">
        <h2>1. 문항 유형별 평가 기준</h2>

        <h3>1.1 객관식 문항</h3>
        <ul>
          <li>
            정답이 명확히 지정되어 있으므로, 답안지와 정확히 일치하는지 확인
          </li>
          <li>복수 정답이 있는 경우, 지정된 모든 정답을 인정</li>
        </ul>

        <h3>1.2 주관식 문항</h3>
        <ul>
          <li>답안의 핵심 요소가 포함되어 있는지 확인</li>
          <li>문법적 오류가 있더라도 의미 전달이 가능한 경우 부분 점수 부여</li>
          <li>철자 오류는 경미한 경우 감점하지 않음</li>
        </ul>

        <h3>1.3 구술형 문항</h3>
        <ul>
          <li>
            발음, 유창성, 정확성, 어휘 사용, 문법 활용 등을 종합적으로 평가
          </li>
          <li>의사소통 능력을 우선적으로 고려</li>
          <li>문화적 적절성도 평가 요소에 포함</li>
        </ul>
      </div>

      <div class="section">
        <h2>2. 난이도별 예시 문항</h2>

        <h3>2.1 쉬운 문항 예시 (난이도 < 0.3)</h3>
        <div class="example">
          <p>
            <strong>문항 28번:</strong> "내일 날씨가 좋으면 _______ 갈 거예요."
            (공원, 공원에, 공원을, 공원으로)
          </p>
          <p><strong>정답:</strong> 공원에</p>
          <p><strong>채점 포인트:</strong> 장소 표현에 적절한 조사 선택</p>
          <p><strong>문항유형:</strong> 객관식</p>
          <p><strong>난이도:</strong> 객관식</p>
        </div>

        <h3>2.2 중간 난이도 문항 예시 (0.3 ≤ 난이도 ≤ 0.7)</h3>
        <div class="example">
          <p>
            <strong>문항 16번:</strong> "이 책은 너무 _______ 읽기가 힘들어요."
            (어렵다, 어려워서, 어려우니까, 어려움으로)
          </p>
          <p><strong>정답:</strong> 어려워서</p>
          <p><strong>채점 포인트:</strong> 적절한 연결 어미 사용</p>
          <p><strong>문항유형:</strong> 객관식</p>
          <p><strong>난이도:</strong> 객관식</p>
        </div>

        <h3>2.3 어려운 문항 예시 (난이도 > 0.7)</h3>
        <div class="example">
          <p>
            <strong>문항 46번:</strong> "환경 보호를 위해 우리가 할 수 있는 일에
            대해 300자 내외로 서술하시오."
          </p>
          <p>
            <strong>채점 포인트:</strong> 주제 이해도, 논리적 구성, 어휘 사용의
            적절성, 문법적 정확성
          </p>
          <p><strong>문항유형:</strong> 객관식</p>
          <p><strong>난이도:</strong> 객관식</p>
        </div>
      </div>

      <div class="section">
        <h2>3. 고변별도 문항 목록</h2>
        <p>
          다음 문항들은 높은 변별도를 가지고 있어 응시자의 능력을 잘 구분합니다.
          채점 시 특히 주의를 기울여 주세요.
        </p>
        <ul>
          <li>문항 11번: 변별도 1.0183</li>
          <li>문항 16번: 변별도 1.2474</li>
          <li>문항 24번: 변별도 1.1568</li>
          <li>문항 43번: 변별도 1.0148</li>
          <li>문항 45번: 변별도 1.0477</li>
        </ul>
        <p class="note">
          이 문항들에 대해서는 부분 점수 부여 시 더욱 신중을 기해주시기
          바랍니다.
        </p>
      </div>

      <div class="section">
        <h2>4. 구술 평가 루브릭</h2>
        <table>
          <tr>
            <th>문항번호</th>
            <th>평가 목표</th>
            <th>불가능 (0점)</th>
            <th>매우부족 (1점)</th>
            <th>부족 (2점)</th>
            <th>보통 (3점)</th>
            <th>우수 (4점)</th>
            <th>매우우수 (5점)</th>
          </tr>
          <tr>
            <td>1</td>
            <td>텍스트읽기</td>
            <td>텍스트 읽기가 불가능함</td>
            <td>발음이 매우 부정확하고 유창성도 부족해서 의미 이해가 어려움</td>
            <td>발음이 다소 부정확하며 유창성도 부족하여 의미 이해가 어렵다</td>
            <td>간혹 발음이 부정확하지만, 의미 이해에는 문제가 없음</td>
            <td>
              자연스러운 속도와 억양으로 발음해서 어색함을 거의 느끼지 않음
            </td>
            <td>개별 단어를 정확하게 발음하고, 자연스럽게 발음함</td>
          </tr>
          <tr>
            <td>2</td>
            <td>텍스트 내용 말하기</td>
            <td>과제 수행이 불가능함</td>
            <td>
              텍스트 내용을 적절히 포함하지 못하고, 한국어 사용이 부정확함
            </td>
            <td>텍스트 내용이 부족하고 한국어 사용이 불안정함</td>
            <td>텍스트 내용을 포함하고 비교적 정확하게 말함</td>
            <td>텍스트 내용을 충분히 포함하고 정확하게 말함</td>
            <td>텍스트 내용을 완벽하게 포함하고 정확하게 말함</td>
          </tr>
          <tr>
            <td>3</td>
            <td>텍스트 관련 말하기(개인 경험 말하기)</td>
            <td>과제 수행이 거의 불가능함</td>
            <td>내용이 부족하고 한국어 사용이 불안정함</td>
            <td>내용이 다소 부족하거나 한국어 사용이 불안정함</td>
            <td>내용에 약간의 오류는 있으나 적절하게 수행함</td>
            <td>내용이 풍부하고, 정확하고 유창하게 말함</td>
            <td>내용이 풍부하고, 과제를 매우 우수하게 수행함</td>
          </tr>
          <tr>
            <td>4</td>
            <td>주제 관련 말하기(문화비교포함)</td>
            <td>과제 수행이 거의 불가능함</td>
            <td>내용이 부족하고, 언어 사용이 불안정함</td>
            <td>내용이 부족하거나 한국어 사용이 불안정함</td>
            <td>내용에 오류는 있으나 과제 수행이 가능함</td>
            <td>내용이 풍부하고 유창하게 말함</td>
            <td>내용이 매우 풍부하고 정확하게 수행함</td>
          </tr>
          <tr>
            <td>5</td>
            <td>주제 관련 대화하기(다양한 기능 구사)</td>
            <td>과제 수행이 거의 불가능함</td>
            <td>내용이 부족하고, 언어 사용이 다소 불안정함</td>
            <td>내용이 부족하거나 한국어 사용이 불안정함</td>
            <td>내용에 약간의 오류는 있으나 적절하게 수행함</td>
            <td>내용이 풍부하고 유창하게 말함</td>
            <td>내용이 매우 풍부하고 과제 수행이 매우 우수함</td>
          </tr>
        </table>
      </div>

      <div class="section">
        <h2>5. 채점 시 유의사항</h2>
        <ol>
          <li>
            객관성을 유지하고, 개인적인 편견이 채점에 영향을 미치지 않도록
            주의하세요.
          </li>
          <li>
            답안의 전체적인 맥락을 고려하여 평가하세요. 단순히 키워드 일치
            여부만으로 판단하지 마세요.
          </li>
          <li>동일한 오류에 대해 일관된 감점 기준을 적용하세요.</li>
          <li>
            의심스러운 사항이 있을 경우, 반드시 다른 채점자나 수석 채점자와
            상의하세요.
          </li>
          <li>
            채점 결과에 대한 근거를 명확히 기록해 두세요. 추후 검토나 이의제기
            시 필요할 수 있습니다.
          </li>
        </ol>
      </div>
    </div>

    <footer>
      <p>
        본 가이드라인은 2024년 9월 기준으로 작성되었습니다. 향후 시험 정책
        변경에 따라 내용이 수정될 수 있습니다.
      </p>
    </footer>
    <script type="module">
      import {
        df_questions as _df_questions,
        df_responses,
        df_questions_speaking as _df_questions_speaking,
        df_responses_speaking,
        speaking_grading_criteria,
      } from "./data2.js";

      const df_questions = _df_questions.map((q) => {
        q.난이도 = parseFloat(q.난이도);
        q.변별도 = parseFloat(q.변별도);
        return q;
      });
      const df_questions_speaking = _df_questions_speaking.map((q) => {
        q.난이도 = parseFloat(q.난이도);
        q.변별도 = parseFloat(q.변별도);
        return q;
      });

      function updateGuideline() {
        // 난이도별 예시 문항 선택
        const easyQuestion = df_questions.find(
          (q) => parseFloat(q.난이도) < 0.3
        );
        const mediumQuestion = df_questions.find(
          (q) => parseFloat(q.난이도) >= 0.3 && parseFloat(q.난이도) <= 0.7
        );
        const hardQuestion = df_questions.find(
          (q) => parseFloat(q.난이도) > 0.7
        );
        console.log(easyQuestion);
        // 예시 문항 업데이트
        document.querySelector(".example:nth-of-type(1)").innerHTML = `
        <p>
            <strong>문항 28번:</strong> "내일 날씨가 좋으면 _______ 갈 거예요."
            (공원, 공원에, 공원을, 공원으로)
          </p>
          <p><strong>정답:</strong> 공원에</p>
          <p><strong>채점 포인트:</strong> 장소 표현에 적절한 조사 선택</p>
          <p><strong>난이도:</strong> ${easyQuestion.문항유형}</p>
          <p><strong>난이도:</strong> ${easyQuestion.난이도}</p>
        `;

        document.querySelector(
          ".example:nth-of-type(2) p:nth-of-type(4)"
        ).innerHTML = `<p><strong>난이도:</strong> ${mediumQuestion.문항유형}</p>`;
        document.querySelector(
          ".example:nth-of-type(2) p:nth-of-type(5)"
        ).innerHTML = `<p><strong>난이도:</strong> ${mediumQuestion.난이도}</p>`;
        document.querySelector(".example:nth-of-type(2)").innerHTML = `
        <p>
            <strong>문항 16번:</strong> "이 책은 너무 _______ 읽기가 힘들어요."
            (어렵다, 어려워서, 어려우니까, 어려움으로)
          </p>
          <p><strong>정답:</strong> 어려워서</p>
          <p><strong>채점 포인트:</strong> 적절한 연결 어미 사용</p>
          <p><strong>난이도:</strong> ${mediumQuestion.문항유형}</p>
          <p><strong>난이도:</strong> ${mediumQuestion.난이도}</p>
        `;

        document.querySelector(".example:nth-of-type(3)").innerHTML = `
         <p>
            <strong>문항 46번:</strong> "환경 보호를 위해 우리가 할 수 있는 일에
            대해 300자 내외로 서술하시오."
          </p>
          <p>
            <strong>채점 포인트:</strong> 주제 이해도, 논리적 구성, 어휘 사용의
            적절성, 문법적 정확성
          </p>
          <p><strong>난이도:</strong> ${mediumQuestion.문항유형}</p>
          <p><strong>난이도:</strong> ${mediumQuestion.난이도}</p>
        `;

        // 고변별도 문항 목록 업데이트
        const highDiscriminationQuestions = df_questions
          .filter((q) => parseFloat(q.변별도) > 0.8)
          .sort((a, b) => parseFloat(b.변별도) - parseFloat(a.변별도))
          .slice(0, 5);

        const highDiscriminationList = document.querySelector(
          ".section:nth-of-type(4) ul"
        );
        highDiscriminationList.innerHTML = highDiscriminationQuestions
          .map((q) => `<li>문항 ${q.문제번호}번: 변별도 ${q.변별도}</li>`)
          .join("");

        // 구술 평가 정보 추가
        const oralAssessmentSection = document.createElement("div");
        oralAssessmentSection.className = "section";
        oralAssessmentSection.innerHTML = `
          <h2>5. 구술 평가 정보</h2>
          <p>구술 평가는 총 ${
            df_questions_speaking.length
          }문항으로 구성되어 있습니다.</p>
          <ul>
            ${df_questions_speaking
              .map(
                (q) => `
              <li>문항 ${q.문제번호}: ${q.평가영역} (난이도: ${q.난이도}, 변별도: ${q.변별도})</li>
            `
              )
              .join("")}
          </ul>
        `;
        document
          .querySelector(".container")
          .insertBefore(
            oralAssessmentSection,
            document.querySelector(".section:last-of-type")
          );

        // 채점 시 유의사항에 데이터 기반 인사이트 추가
        const insightItem = document.createElement("li");
        insightItem.textContent = `필답형 평가의 평균 난이도는 ${calculateMean(
          df_questions,
          "난이도"
        ).toFixed(2)}이며, 
          구술형 평가의 평균 난이도는 ${calculateMean(
            df_questions_speaking,
            "난이도"
          ).toFixed(2)}입니다. 
          이를 고려하여 전체적인 난이도 균형을 유지하세요.`;
        document
          .querySelector(".section:last-of-type ol")
          .appendChild(insightItem);
      }

      function calculateMean(data, key) {
        return (
          data.reduce((sum, item) => sum + parseFloat(item[key]), 0) /
          data.length
        );
      }

      window.onload = updateGuideline;
    </script>
  </body>
</html>
